## WhatsTheTime.com

- Stateless app (e.g. No DB required)

### Day1
- User wants to know time from our **Public EC2** of **instance type of T2**  hosting the app, with an **elastic IP address**

### Day2
- More user (more traffic) comes, so **Vertical scaling** is adopted - upgrading the ec2 instance to **instance type of M5**
- We understands the limitations:
	- server has to be down for the vertical scaling

### Day3
- Even more traffic comes, so **Horizontal scaling** is adopted - adding more ec2 instance of type M5
- Limitations:
	- User has to keep note of new IP addressed assgined to each new ec2 instance (server)

### Day4

- Let user just to visit the site with a static domain name
	- Keep the ec2 instances still **public facing** (allows public https inbound traffic), but remove their elastic IP addresses
	- **Route 53 to register type A record with  TTL of 1 hour with record value pointing to the IP address**  ==TODO: private IP address??==
		> The IP address can be changed, but it does not matter, as the Route 53 will sync up the changes -- from the course
  - If we remove one instance, because TTL is set to 1 hour, the users previously connected to the "gone" instance will be disconnected in the 1 hour

### Day5

- Add a **public ELB**, make EC2 instance as **Private**, restrict **Security Group Rule** so traffics are allowed between ELB and private EC2 instances
- DNS service to associate the domain name to **Alias record** of value of the ELB address
- ELB enabled with **Health Check**, so ELB can route traffic to alive instances only
- Even further, we add **Auto scaling group** to the set of EC2 instances, so to scale up with more instances during daytime when more traffic expected, and scale down with less instances during nighttime when less traffic expected.
- Limitation - **Missing of Disaster recovery** as all instances are set up in a single **Availability Zone**

### Day6

- **Setting up instances in multiple AZs**
- For cost concern, as we know the WhatsTheTime.com should always running, we decide to understand the **Minimum capacity**, and start **Reserved instances** for cost saving

## Take aways

- Public vs private IP and EC2 instances
- Elastic IP vs Route 53 vs Load balancer
- Autoscaling group over manual setup
- Multi-AZ to survive disaters
- ELB health check
- Security Group rules
- Reserve capacity for cost saving

## Five pillars of solution architecture design:
- Cost
- Performance
- Reliability
- Security
- Operational Excellence